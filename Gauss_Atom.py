######################################################################################################################################################################################
######################################################################################################################################################################################
# Ben Payton 6/21/23
# This is a python object meant to be used as an atom in gjf file
######################################################################################################################################################################################
######################################################################################################################################################################################


class GAUSSATOM:
	def __init__(self,string):
		self.string = string.split()
		self.TYPE = ""
		self.x_value = ""
		self.y_value = ""
		self.z_value = ""
		self.frozen = " 0"
		self.start_up()

######################################################################################################################################################################################
# Makes the output in the form of a string in one line so it may be inserted in to a gjf file
######################################################################################################################################################################################

	def __str__(self):
		return self.TYPE + "   " + self.frozen + "        " + self.x_value + "   " + self.y_value + "   " + self.z_value

######################################################################################################################################################################################
# Updates the string that is outputed. best to put it at the end of any function that makes a change
######################################################################################################################################################################################
	def update_string(self):
		self.string = []
		self.string.append(self.TYPE)
		self.string.append(self.frozen)
		self.string.append(self.x_value)
		self.string.append(self.y_value)
		self.string.append(self.z_value)

######################################################################################################################################################################################
# A function called at the initialization in order to properly organize structure
# Will work whether there is already a frozen/unfrozen line
######################################################################################################################################################################################

	def start_up(self):
		if len(self.string) == 4:
			self.TYPE = self.string[0]
			self.x_value = self.string[1]
			self.y_value = self.string[2]
			self.z_value = self.string[3]
			self.update_string()
		elif len(self.string) == 5:
			self.TYPE = self.string[0]
			self.frozen = self.string[1]
			self.x_value = self.string[2]
			self.y_value = self.string[3]
			self.z_value = self.string[4]
			self.update_string()

######################################################################################################################################################################################
# if the atom is frozen it will unfreeze it.
# if the atom is unfrozen it will freeze it.
######################################################################################################################################################################################
	
	def flip_freeze(self):
		if self.frozen == "0":
			self.frozen = "-1"
		else:
			self.frozen = " 0"
		self.update_string()

######################################################################################################################################################################################
# Freezes the atom
######################################################################################################################################################################################

	def freeze(self):
		self.frozen = "-1"
		self.update_string()

	def unfreeze(self):
		self.frozen = " 0"
		self.update_string()